(this.webpackJsonpmomsbell=this.webpackJsonpmomsbell||[]).push([[0],{30:function(e,t,n){},36:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var c=n(5),r=n.n(c),i=n(21),l=n.n(i),s=(n(30),n(14)),a=n(25),o=(n(36),n(0));function j(e){return Object(o.jsxs)("div",{className:"landing",children:[Object(o.jsx)("p",{children:"I want to:"}),Object(o.jsx)("button",{onClick:function(){return e.setUser("ringer")},children:"Ring a bell"}),Object(o.jsx)("button",{onClick:function(){return e.setUser("listener")},children:"Listen for a bell"})]})}function b(e){var t=e.username,n=e.socket,r=e.saveName,i=Object(c.useState)(""),l=Object(s.a)(i,2),a=l[0],j=l[1];Object(c.useEffect)((function(){n.emit("register ringer",t)}),[t,n]);return Object(o.jsxs)("div",{children:[!t&&Object(o.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r(a)},children:[Object(o.jsx)("input",{onChange:function(e){e.preventDefault(),j(e.target.value)},value:a,type:"text",placeholder:"My Name"}),Object(o.jsx)("button",{children:"Ok"})]}),t&&Object(o.jsx)("button",{onClick:function(){n.emit("ring")},id:"bell",children:"Ring your bell!"})]})}function u(e){var t=e.socket,n=e.listenTarget,r=e.saveTarget,i=Object(c.useState)(""),l=Object(s.a)(i,2),a=l[0],j=l[1];Object(c.useEffect)((function(){t.emit("register listener",n)}),[t,n]);return Object(o.jsxs)("div",{children:[!n&&Object(o.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r(a)},children:[Object(o.jsx)("input",{onChange:function(e){e.preventDefault(),j(e.target.value)},value:a,type:"text",placeholder:"Ringer name"}),Object(o.jsx)("button",{children:"Listen"})]}),n&&Object(o.jsxs)("p",{children:["Listening for ",n,"..."]})]})}var d=Object(a.a)("http://localhost:8080");var O=function(){var e=Object(c.useState)(window.localStorage.bellRingerName),t=Object(s.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(window.localStorage.listenTargetName),l=Object(s.a)(i,2),a=l[0],O=l[1],g=Object(c.useState)(window.localStorage.bellUserType),m=Object(s.a)(g,2),f=m[0],h=m[1],x=Object(c.useState)(d),v=Object(s.a)(x,2),p=v[0];return v[1],Object(c.useEffect)((function(){p.on("ring",(function(){console.log(a,"rang their bell!")}))}),p),Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)("header",{className:"App-header",children:Object(o.jsx)("button",{onClick:function(){window.localStorage.removeItem("bellUserType"),window.localStorage.removeItem("bellRingerName"),window.localStorage.removeItem("listenTargetName"),h(null),r(null),O(null)},children:"Reset"})}),Object(o.jsxs)("main",{children:[n&&Object(o.jsx)("div",{children:Object(o.jsxs)("p",{children:["Hi ",n]})}),!f&&Object(o.jsx)(j,{setUser:h}),"ringer"===f&&Object(o.jsx)(b,{username:n,socket:p,saveName:function(e){r(e),window.localStorage.setItem("bellRingerName",e)}}),"listener"===f&&Object(o.jsx)(u,{socket:p,listenTarget:a,saveTarget:function(e){O(e),window.localStorage.setItem("listenTargetName",e)}})]})]})};l.a.render(Object(o.jsx)(r.a.StrictMode,{children:Object(o.jsx)(O,{})}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.91e9f7e9.chunk.js.map