{"version":3,"sources":["Landing.jsx","Ringer.jsx","Listener.jsx","App.jsx","helpers.js","index.js"],"names":["Landing","props","className","onClick","setUser","Ringer","username","socket","saveName","useState","nameValue","setNameValue","useEffect","emit","onSubmit","event","preventDefault","onChange","e","target","value","type","placeholder","id","Listener","listenTarget","saveTarget","initSocket","socketClient","App","window","localStorage","bellRingerName","setUsername","listenTargetName","setListenTarget","bellUserType","userType","setUserType","on","console","log","removeItem","name","setItem","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"kOAAe,SAASA,EAAQC,GAC9B,OACE,sBAAKC,UAAU,UAAf,UACE,2CACA,wBAAQC,QAAS,kBAAMF,EAAMG,QAAQ,WAArC,yBACA,wBAAQD,QAAS,kBAAMF,EAAMG,QAAQ,aAArC,kCCHS,SAASC,EAAOJ,GAC7B,IAAQK,EAA+BL,EAA/BK,SAAUC,EAAqBN,EAArBM,OAAQC,EAAaP,EAAbO,SAE1B,EAAkCC,mBAAS,IAA3C,mBAAOC,EAAP,KAAkBC,EAAlB,KAGAC,qBAAU,WACRL,EAAOM,KAAK,kBAAmBP,KAC9B,CAACA,EAAUC,IAmBd,OACE,iCACID,GACA,uBAAMQ,SAZS,SAAAC,GACnBA,EAAMC,iBACNR,EAASE,IAUL,UACE,uBAAOO,SAnBE,SAAAC,GACfA,EAAEF,iBACFL,EAAaO,EAAEC,OAAOC,QAiBWA,MAAOV,EAAWW,KAAK,OAAOC,YAAY,YACrE,2CAGHhB,GACC,wBAAQH,QAbG,WACfI,EAAOM,KAAK,SAYmBU,GAAG,OAA9B,gCCpCO,SAASC,EAASvB,GAE/B,IAAOM,EAAoCN,EAApCM,OAAQkB,EAA4BxB,EAA5BwB,aAAcC,EAAczB,EAAdyB,WAE7B,EAAkCjB,mBAAS,IAA3C,mBAAOC,EAAP,KAAkBC,EAAlB,KAEAC,qBAAU,WACRL,EAAOM,KAAK,oBAAqBY,KAChC,CAAClB,EAAQkB,IAiBZ,OACE,iCACKA,GACD,uBAAMX,SAXS,SAAAC,GACnBA,EAAMC,iBACNU,EAAWhB,IASP,UACE,uBAAOO,SAlBE,SAAAC,GACfA,EAAEF,iBACFL,EAAaO,EAAEC,OAAOC,QAgBWA,MAAOV,EAAWW,KAAK,OAAOC,YAAY,gBACrE,+CAGFG,GACA,+CAAkBA,EAAlB,YC1BR,IAAME,EAAaC,YAAa,yBAoDjBC,MAlDf,WACE,MAAgCpB,mBAASqB,OAAOC,aAAaC,gBAA7D,mBAAO1B,EAAP,KAAiB2B,EAAjB,KACA,EAAwCxB,mBAASqB,OAAOC,aAAaG,kBAArE,mBAAOT,EAAP,KAAqBU,EAArB,KACA,EAAgC1B,mBAASqB,OAAOC,aAAaK,cAA7D,mBAAOC,EAAP,KAAiBC,EAAjB,KACA,EAA4B7B,mBAASkB,GAArC,mBAAOpB,EAAP,KA8BA,OA9BA,KAEAK,qBAAU,WACRL,EAAOgC,GAAG,QAAQ,WAChBC,QAAQC,IAAIhB,EAAc,yBAE3BlB,GAyBD,sBAAKL,UAAU,MAAf,UACE,wBAAQA,UAAU,aAAlB,SACC,wBAAQC,QAzBC,WCvBd2B,OAAOC,aAAaW,WAAW,gBAC/BZ,OAAOC,aAAaW,WAAW,kBAC/BZ,OAAOC,aAAaW,WAAW,oBDuB7BJ,EAAY,MACZL,EAAY,MACZE,EAAgB,OAqBb,qBAED,iCACG7B,GAAY,8BAAK,oCAAOA,QACvB+B,GAAY,cAACrC,EAAD,CAASI,QAASkC,IAElB,WAAbD,GAAyB,cAAChC,EAAD,CAAQC,SAAUA,EAAUC,OAAQA,EAAQC,SAxB3D,SAAAmC,GACfV,EAAYU,GACZb,OAAOC,aAAaa,QAAQ,iBAAkBD,MAuB5B,aAAbN,GAA2B,cAACb,EAAD,CAAUjB,OAAQA,EAAQkB,aAAcA,EAAcC,WApBrE,SAAAiB,GACjBR,EAAgBQ,GAChBb,OAAOC,aAAaa,QAAQ,mBAAoBD,aEjCpDE,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.91e9f7e9.chunk.js","sourcesContent":["export default function Landing(props) {\n  return (\n    <div className=\"landing\">\n      <p>I want to:</p>\n      <button onClick={() => props.setUser(\"ringer\")}>Ring a bell</button>\n      <button onClick={() => props.setUser(\"listener\")}>Listen for a bell</button>\n    </div>\n  )\n}","import { useEffect, useState } from \"react\"\n\nexport default function Ringer(props) {\n  const { username, socket, saveName } = props\n\n  const [nameValue, setNameValue] = useState(\"\")\n\n  // When we get a new socket or username, update the name\n  useEffect(() => {\n    socket.emit('register ringer', username)\n  }, [username, socket])\n\n\n  // Control the input form\n  const onChange = e => {\n    e.preventDefault();\n    setNameValue(e.target.value);\n  }\n\n  // Save the name when we submit the form\n  const handleSubmit = event => {\n    event.preventDefault();\n    saveName(nameValue)\n  }\n\n  const ringBell = () => {\n    socket.emit('ring')\n  }\n\n  return (\n    <div>\n      {!username &&\n        <form onSubmit={handleSubmit}>\n          <input onChange={onChange} value={nameValue} type=\"text\" placeholder=\"My Name\"></input>\n          <button>Ok</button>\n        </form>\n      }\n      {username &&\n        <button onClick={ringBell} id=\"bell\">Ring your bell!</button>\n      }\n    </div>\n  )\n}","import { useEffect, useState } from 'react'\n\nexport default function Listener(props) {\n\n  const {socket, listenTarget, saveTarget} = props\n\n  const [nameValue, setNameValue] = useState(\"\")\n\n  useEffect(() => {\n    socket.emit('register listener', listenTarget)\n  }, [socket, listenTarget])\n\n  // Control the input form\n  const onChange = e => {\n    e.preventDefault();\n    setNameValue(e.target.value);\n  }\n\n  // Save the name when we submit the form\n  const handleSubmit = event => {\n    event.preventDefault();\n    saveTarget(nameValue)\n  }\n\n\n\n\n  return (\n    <div>\n      { !listenTarget &&\n        <form onSubmit={handleSubmit}>\n          <input onChange={onChange} value={nameValue} type=\"text\" placeholder=\"Ringer name\"></input>\n          <button>Listen</button>\n        </form>\n      }\n      { listenTarget &&\n        <p>Listening for {listenTarget}...</p>\n      }\n    </div>\n  )\n}","import { useEffect, useState } from 'react';\nimport socketClient from 'socket.io-client';\n\nimport './App.css';\n\nimport Landing from './Landing'\nimport Ringer from './Ringer'\nimport Listener from './Listener'\n\nimport { clearLocal } from './helpers'\nconst initSocket = socketClient(\"http://localhost:8080\");\n\nfunction App() {\n  const [username, setUsername] = useState(window.localStorage.bellRingerName)\n  const [listenTarget, setListenTarget] = useState(window.localStorage.listenTargetName)\n  const [userType, setUserType] = useState(window.localStorage.bellUserType)\n  const [socket, setSocket] = useState(initSocket)\n\n  useEffect(() => {\n    socket.on('ring', () => {\n      console.log(listenTarget, \"rang their bell!\")\n    })\n  }, socket)\n\n  const reset = () => {\n    clearLocal();\n    setUserType(null);\n    setUsername(null);\n    setListenTarget(null);\n  }\n\n  const saveName = name => {\n    setUsername(name);\n    window.localStorage.setItem(\"bellRingerName\", name)\n  }\n\n  const saveTarget = name => {\n    setListenTarget(name);\n    window.localStorage.setItem(\"listenTargetName\", name)\n  }\n\n  const saveUserType = type => {\n    setUserType(type);\n    window.localStorage.setItem(\"bellUserType\", type);\n  }\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n       <button onClick={reset}>Reset</button>\n      </header>\n      <main>\n        {username && <div><p>Hi {username}</p></div>}\n        {!userType && <Landing setUser={setUserType}/>}\n\n        {userType === \"ringer\" && <Ringer username={username} socket={socket} saveName={saveName} />}\n        {userType === \"listener\" && <Listener socket={socket} listenTarget={listenTarget} saveTarget={saveTarget} />}\n      </main>\n    </div>\n  );\n}\n\nexport default App;","export function clearLocal() {\n  window.localStorage.removeItem(\"bellUserType\");\n  window.localStorage.removeItem(\"bellRingerName\");\n  window.localStorage.removeItem(\"listenTargetName\");\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}